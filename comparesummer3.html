<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Color Palette</title>
    <link href='https://fonts.googleapis.com/css?family=Roboto:300,100,400,500,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <section>
        <h1>Color Palette</h1>
        <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBw8QDQ8PDQ8OEA8QDhAPDhAODw8NDhAPFhIXFxURFRYYHSggGBolHRYVITEhJSkrLi4uGB8zODUtNygtLisBCgoKDg0OGhAQFi0dIB83LSstLS0tLS0tLS0tLS0tLS0tLSs3Ni0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKystLf/AABEIAQMAwgMBIgACEQEDEQH/xAAcAAEAAQUBAQAAAAAAAAAAAAAAAQIDBQYHBAj/xABHEAACAQMBAwgGBgYIBwEAAAAAAQIDBBESBSExBgcTIkFRYXEUgZGhosEyYpKxstEjUnJzgsIkNEJTY6Ph8RVDVGSTw/Al/8QAGAEBAQEBAQAAAAAAAAAAAAAAAAMCAQT/xAAkEQEBAAICAgEEAwEAAAAAAAAAAQIRAzEhQRITIjJRQkNhBP/aAAwDAQACEQMRAD8A7MCQAAJAgEgCASAIBIAoqwzFrvTXuNAu9mdJWTlNqOrPVlOMcrv0tG+3VZU6cpyeFGLe/v7F7Tlezrqu61RxctEpt+TI816en/nl81vVtRcNMdc57sJSlrx4Jve/W2Ze0j1TGbIoYlFttvD49+DNJHeKe2ObLzoBIKooBIAgEgCASQABIAAACCQAAJAEEgAACQKW0uO488rtb9Kba3b04+57/cYi02rrrzUuGWo+CMlOabXin96/MleT9K/T12xG16NW5i1GX0JJ6FuS81xb8zy7N2R0bw1ucdS3dq4mWnCSlqi+tF5WeDXbF+D/ACfYe2E08NLj7V5k7N3yrvU8LdusYfceynVi1nhxWHueU8Ftw9hQ+D8zeN+KdkyeoHlpyUFu3LjhbkespjltPLHSASDTKASAIBIAgkEgQCQBAJAEEgAASAIIm8JvuT+4qDXYBz7Z08VG/EzlS+ScVnraXL1Jxya/Q6s2vEq2hV03Vt3OnUUvLXTSfvPH7e+zba4zT4FdOWl+D90v9V93ieCzq7sdsXh+XYzIJKSwUSsel1FjLLMnwRalJuOHu60c+qSz9xM570xvbkiqpvWPFIyRj4dZxS/Wj95kSnGlyIBIKJoBIAgEgCCQAAJAFJIwSBAJAEEgAAABze76t3Vh3VZr4mRtKnquaS/wKnq3xefci/tqnp2jVXfNS9qT+Zbu54v6K77Wr+KCPJZ5e+fjKyNmnjKb+is/eZa0qbuJi9m8GvA9NCeDTFZGT4rxXvRZqbpIu563nFfeyi44R8HvDkemyfXj/wDdhlDEWz60fNfeZcrx9IcnYACiYAAAAAAAAAAAJGAIJwSAIwMEgCME4AA0rlLQ/wD0E1/apQl96+Rj67i7iWV1o28XHw/TQi/xGwbbS/4hTz226XxzMLWoYvp9zsa7f8NWjJe+KPNfyr2437I9ez11mvAquXpZct4Ymn2NEXkMyOue3tp1E1Tae/TJevc/ky/X3xyY2E9PQN9lVRfipJx+ZlHHMGl/sccU0HvXmjNmuUteVhcHv8jP0KmqOe3g/Mpx1Hli4MAFUkDBIApwSkSABBIAjAJAAAAAAABIAgkADWOU703VvLvhKPxf6lp2+u4qNb3LZ1zFeblTwXeWSxO2l4zX4T07HjmvqxnFvKPtlHd8JCz73pl1x7Y2he0lCCqPDwvEuVL+2k2lOEpY+jqSecZx5mhcptveiRnReXefRjF400E89aS4Z7l24Wdz3833uTcsuUsuUm9UnJvLbfazWHHcp5M8sZfD6Dr1aTpak3HGJ4l/Za3p+0yHpkE8NpN9j3bz5vi2uDkuzdlF6neVNTTq1eGV1pvtNfR/1n6k/TvW0du2tFaqlanBrjGUlnx3cTx7N5fWk7ulb0lOXSz6Nz0uFOLw8fS3tt4S3dpxLVnivW9xftK0ouMk8Si1JNfrJ5TNTi17Zue/T6fTzwBguSW1/SbalPKeuLe7skvpR9TT9hnhLtjLHVQCQdZQCSAABIEAkAQSAAAAAAAAABrvLOH6OjLuqNe1L8j27Cj9J/Upr8R5+WK/o0X3Vo/hkX+T1ROk23/Zjn3kv5r/ANThfOFXU9s30k8/p1B+cKcKbXwGu7iraN101zXrLhVr1qv26kpfMtLxPTEVWSI/Tz9V/egIvf6jou5K495a1FSA6PzRbcmqjtKrbiv0lD6uZ9dP7Sa9Z2I4rzN0NW05yxuha1HnubnTS+Z2slZqu5ZbQCSAyAAAAAAAAAAAAAAAAAADDcrYJ2ks9k4NefD7mzCSuZ0tmXcqabnGzr6V9bo20zM8r2/RV+8jn7MjXVtaFOFrTlv9IrSo4a3YVNtp+5esjn4y29PHjvj04PTS7OHf+Reiv92Xbq26KvWpJP8ARVqlJZbbxCbj8inzPVHnqCl8S9SpSnKMIRcpzkoQiuMpN4UV4ttGb5wOS62bVtaSqSnKraqpWzjSq2pqWjC+j3Z37haMBF93rZdiixSZ6IHR1TmTp9e9ljhCgs+bn+R1Q57zMUMWlzP9avGH2YJ/znQieXbgADgAACASAIAAAAAAAAAAAAAeDblm61tOnDGrMZRy8b4yT4+SZznauy7hwo6YKNxa3Sr06dVulGvTa0ypqTeIyaxved68TqpwTnguel2xUh2UaVGl4Pq9J/7GZuHyqvHyfGa01baVRzubibhKm53FabhJ6pU26knob7WuGfAsJCKK0iydbrzR7I6faarSWYWsHVeeHSvq01+KX8J7efeH9Lsn329Reya/M3Tmp2N6NsyNSaxUupdO+9U8Ypr7PW/iNX5+aO/Z8/C5g/8AKa+Zn2OU0z00jzU0euijY7zzWWvR7Jpy7atSpVft0L3QRtxi+S1v0WzrOGMONtS1ftOCb97ZlCd7cAAcAgkAQCSAAAAgEEgAAAAAAAAD5r5Y3XTbUvanY7mqo/sxlpj7oo+kqk1GLk+EU5PySyfLFWblOUnxk3J+b3msQijM8lNkemX9vbb9M6mamOylHrT8tya82jDxOpcymzMzuruS3RUbem/rPE6nu6P2mr4ddWjFJJJJJJJJbkkuCOZ8+tLNrZz7riccftU85+H3nTTmfPpL+iWce+4m/ZTa+ZiOOOUz3WdJynGK4ykorzbwjxQM5yXp6r60j+tdW8fbVijbr6RpwUYqK4JJLySKgCbgAAAAAAAAAAKAABIIJAAAAAAMJy02nG12ZdVmsvonTgu+dTqR9WZZ8kz5vXE7Fz3X2m1taCe+pWlVa8Kccb/XU9xx2mbxF2J9DcgNl+i7LtoNYnOHT1M7nrqdbD8UnGP8Jwrk5s/0m9trfGVVrwjL9jOZ/CpH0shkJOU8+9TqWEe+VxL2KmvmdWOQc+sv01lHupV37ZQ/IzOxy+mbLyIp69p2UV/1VKX2ZKXyNbpm5c19PO2bTw6Z/wCRUx78G3XfAATcAAAAAAAAAABQAABJBIAAAACmpNRi5SeIxTk33JLLYHC+eDafTbVlST6ttShS8Nb68n8UV/CaXTW4vbUvHcXFavLOa1WpVeezXJyx6s4LUUVjroXM3s3pL+dw1utqLx4VKmYx+FVDtBoXM5s/o9nTrtb7itJp/wCHT6iX2tftN9J5duJOOc+39Zsv3Fb8cTsZxzn0/rNn+4qfjQnY5rRR0DmhttW1FJ/8q3qzXm3GH87NBonVOZShmtd1MfRpUoJ/tSk3+BG7066uACbgAAAAAAAAAAKAAAJIAEgAAa5zh3/QbIu5p4lOl0Me/NVqG7yUm/UbGcz58L/Tb2lsv+ZVnWl5U46Un66nwnZ2OPpby7Eoit5l+S1j6Rf2tHGVO4pqS+opZn8KkUH0ByYsPR9n2tBrDp0Kan+21mfxNmUAJCTjnPn/AFqzX+BP8aOxHEueqtq2nTj+paQXrc5v8juPY0W3juOy8zNDFpcz/Wrxh9mCf85x62XV9Z3LmnoadlKX95Xqz9mIfym8unW5AAm4AAAAAAAAAACgFKZOQJAyAJBAAk4bzx3vSbV6NPdQt6cGu6Us1H7px9h3I+aeVl96RtK7rJ5U7ippf1IvTD4Yo1iMZFG+cz9j0m0+ka3UKFSee6csQj7pT9hosUdh5lrHTa3Nw1vq1o0ovvhTjnK9c5ew1l0OjgAmBwHnVrats3S7IKhBf+GEvvbO/HztziSzte+ffcJfZpxRrEYe3W5H0HyDodHsmzj30tf25Of8x8+23D1H0rse36K1t6X93QpQ+zBL5Hcuh7AAYAAAAAAAAAAAWNQyMEYAqyTkt4G8C5knJa1EqQHg5TbS9GsLq4XGnRm4fvGsQ+Jo+aIrefQnOFYzuNlV6VJpTzTkk+E9NSL0Z7MnAZ286c5QqRlGUd0oyWGmbx07ohxPorkRs/0bZdpSaxLolUmu1TqdeS9Tlj1HCeTuyKlzdUaUaVWcJ1qcasownKMKcpLVKTS3LGXln0h5DKuKiSnITMCo+bOW1XVtO9f/AHlwvs1HFe5I+kjgHLvkxe0r+4m6M506tarWpzpJ1E41Jykk0t6a4NY+9GsXYw2ybfpK1Cit7qVaVPz1zUfmfTJwvm62HXntO2lUoVo06UnWlKdKcILRFuO9rGdWk7qMqUABlwAAAAAAAAAAFvA0leABRgjSXBgC04FuccHpwRgDXOUF/BQVPXBOU46lKUU8Z3LHe3gsrZVvcUVGtGm4ylDVLEdUlCSk4N8cPTh+DZdlY33Tzem2lSlKTS1Tjub3Nvsfbuj+Z6bDY1VV+mr1IPEnNUqak4Kbjpzl4zu8M5fEn8bctrfKTHUqvZtKMby80uPWjavTHG5KnKK3Lgur7jLYKsAolVDTKW2XsEYDjzyuMcUzFbaqxm6WOxyb8FuM5KCfFGvbf2PWnOlO3UJwjLNWjOWhzXZpbTT34eHhbjmU3GsLrLb1WNeOuLUk1w3NPcZk1G02dW6Vy/4fCk3JPXKpRlv3PL0vvSft7za6NPTCMct6YqOXvbwsZfiZwlnbXJZb4VkkA2mkAAAAAAAAEACQAAAAAAACAAARIAAAAAAAAAAAAAAAAAAAAAAP/9k=">
        <ul class="colors"></ul>
    </section>

    <script src="vibrant.js"></script>
    <script src="script.js"></script>
</body>
</html>
<html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<canvas width="200" height="200" id="canvas_picker"></canvas><br>
<input type="file" id="file_upload"><br>
<div id="hex">HEX: <input type="text"></div><br>
<div id="rgb">RGB: <input type="text"></div>

<div id="picked"></div>

<script>
var $picked = $("#picked"); // Just to preview picked colors
var canvas = $('#canvas_picker')[0];
var context = canvas.getContext('2d');


$("#file_upload").change(function (e) {
  var F = this.files[0];
  var reader = new FileReader();
  reader.onload = imageIsLoaded;
  reader.readAsDataURL(F);
});

function imageIsLoaded(e) {
  var img = new Image();
  img.onload = function(){
    canvas.width  = this.width;    // If needed? adjust canvas size
    canvas.height = this.height;   // respective to image size
    context.drawImage(this, 0, 0); // Draw image at 0, 0, not at 10, 10
  };
  img.src = e.target.result;
}

$('#canvas_picker').click(function(event){
  var x = event.pageX - $(this).offset().left; // Fixed coordinates
  var y = event.pageY - $(this).offset().top; // respective to canvas offs.
  var img_data = context.getImageData(x,y , 1, 1).data;
  var R = img_data[0];
  var G = img_data[1];
  var B = img_data[2];
  var rgb = R + ',' + G + ',' + B ;
  var hex = rgbToHex(R,G,B);
  $('#rgb input').val( rgb );
  $('#hex input').val('#' + hex);
  $picked.append("<span style='background:#"+hex+"'>#"+hex+"</span>");
});

function rgbToHex(R, G, B) {
  return toHex(R) + toHex(G) + toHex(B);
}

function toHex(n) {
  n = parseInt(n, 10);
  if (isNaN(n))  return "00";
  n = Math.max(0, Math.min(n, 255));
  return "0123456789ABCDEF".charAt((n - n % 16) / 16)  + "0123456789ABCDEF".charAt(n % 16);
}
</script>

<style>
*{margin:0;}
canvas{background:#ddd;}
#picked span{
  display:inline-block;
  width:50px;
  height:50px;
  margin:3px;
  text-align:center;
  text-shadow:1px 1px 1px #000;
  font:8px/50px Arial;
  color:#fff;
}
</style>
<html/>
